<!DOCTYPE html>
<html>

  <head>
    <title>ResMap 2</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Visualisation simple et facile des résultats de calculs de compensation de réseaux géodésiques">
    <meta name="keywords" content="resmap, ResMap, ResMapBD, LTOP, fichier PRNx, swisstopo">
    <!--<link rel="icon" href="./img/ResMap2_logo.png" />-->

    <!----------- CSS  ----------->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link href="./css/style.css" rel="stylesheet">

    <!----------- OpenLayers -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/ol@v7.4.0/ol.css">


    <!-- ol-ext -->
    <!--<link rel="stylesheet" href="./css/ol-ext.css" />-->
  </head>


  <body>

    <div class="container-fluid">

      <div class="row align-items-start">

        <!-- Left: menu and drop-down menu -->
        <div class="col-3 border overflow-y-auto" id="menu">
          <h1>ResMap2</h1>

          <!-- Import .PRNx file -->
          <div class="mt-2 greyBackground border border-dark p-1">
            <h5 class="mx-2">Import du fichier .PRNx</h5>
            <input class="mx-2 my-1 pr-2 inputFile" type="file" id="inputfile" accept=".prnx" onchange="readFilePRNx()"></input>
            <p class="mx-2 my-1 importInfo" id="outputTest"> </p>
          </div>

          <!-- Abriss planimétrique -->
          <button onclick="myFunction('abrissPlanimetrique')" class="w3-button w3-block w3-left-align">Planimétrie</button>
          <div id="abrissPlanimetrique" class="w3-container w3-hide">
            <!-- Checkbox : Points fixes -->
            <div>
              <input class="form-check-input" type="checkbox" id="checkboxPtsF" onchange="changeLayerVisibility('plani_ptsF')" checked>
              <label class="checkboxLabel" for="checkboxPointsFixes">
                Points fixes
              </label>
            </div>

            <!-- Checkbox : Points nouveaux -->
            <div>
              <input class="form-check-input" type="checkbox" id="checkboxPtsN" onchange="changeLayerVisibility('plani_ptsN')" checked>
              <label class="checkboxLabel" for="checkboxPointsNouv">
                Points nouveaux
              </label>
            </div>

          </div>
        </div>

        <!-- Right: map -->
        <div class="col-9">
          <div id="map">
          </div>
        </div>

      </div>

      <!-- Button for layers -->
      <div class="w3-dropdown-hover w3-right" id="layerSelection">
        <button class="w3-button" id="layerButton">
          <img src="./img/layers-svgrepo-com.png" alt="Selecting the background layer">
        </button>
        <div class="w3-dropdown-content w3-bar-block" style="right:0">
          <a class="w3-bar-item w3-button" onclick="changeBackground('CN')" >Carte Nationale</a>
          <a class="w3-bar-item w3-button" onclick="changeBackground('swissImage')">swissImage</a>
          <a class="w3-bar-item w3-button" onclick="changeBackground('swissSurface3D')">swissSurface3D</a>
          <a class="w3-bar-item w3-button" onclick="changeBackground('MO')">Mens. Off.</a>
          <a class="w3-bar-item w3-button" onclick="changeBackground('nothing')">-</a>
        </div>
      </div>

      <div id="popup" class="ol-popup">
        <a href="#" id="popup-closer" class="ol-popup-closer"></a>
        <div id="popup-content"></div>
      </div>

    </div>



    
    <!------ Javascript ------>
    <!---- OpenLayers / proj4 ---->
    <script src="https://cdn.jsdelivr.net/npm/ol@v7.4.0/dist/ol.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/proj4js/2.6.2/proj4.js" integrity="sha512-cgJnZ1VX2G0MAN4C5OGShwI3zHhfQ6RLriXuukhblNu+T082/ZRGoWLP/0xMKObvB6AUKdnm27hQKj8hKZPjXA==" crossorigin="anonymous"></script>
  
    <!---- For popup ol ---->
    <script src="https://cdn.jsdelivr.net/npm/elm-pep@1.0.6/dist/elm-pep.js"></script>
    

    <!---- Personnals scripts -->
    <script src="./js/index_accordion.js"></script>
    <script src="./js/popup.js"></script>

    <script src="./js/defineProj.js"></script>
    <script src="./js/defineBackground.js"></script>
    <script src="./js/defineView.js"></script>
    <script src="./js/defineMap.js"></script>
    <script src="./js/defineViewByFile.js"></script>

    <script src="./js/changeBackground.js"></script>
    <script src="./js/changeLayerVisibility.js"></script>

    <script src="./js/affichPoints.js"></script>

    <script src="./js/parseXML_points.js"></script>
    <script src="./js/parseXML_variablePoints.js"></script>
    <script src="./js/parseXML_planiObservations.js"></script>

    <script src="./js/readFilePRNx.js"></script>

  </body>
</html>

